2020/11/26 00:12:20 Attempt 1 of http call to http://10.0.0.5:16384/sendlogstoartifacts/info
2020/11/26 00:12:20 Attempt 1 of http call to http://10.0.0.5:16384/sendlogstoartifacts/status
[2020-11-26T00:12:22.158080] Entering context manager injector.
[context_manager_injector.py] Command line Options: Namespace(inject=['ProjectPythonPath:context_managers.ProjectPythonPath', 'Dataset:context_managers.Datasets', 'RunHistory:context_managers.RunHistory', 'TrackUserError:context_managers.TrackUserError'], invocation=['urldecode_invoker.py', 'python', '-m', 'azureml.studio.modulehost.module_invoker', '--module-name=azureml.studio.modules.ml.evaluate.evaluate_generic_module.evaluate_generic_module', '--evaluation-results', 'DatasetOutputConfig:Evaluation_results', '--scored-dataset=DatasetConsumptionConfig:Scored_dataset'])
Initialize DatasetContextManager.
Script type = None
Starting the daemon thread to refresh tokens in background for process with pid = 101
Set Dataset Scored_dataset's target path to /tmp/tmpdd1vjx0d
Enter __enter__ of DatasetContextManager
SDK version: azureml-core==1.18.0.post2 azureml-dataprep==2.4.4. Session id: 8fca3df1-aae9-4595-90cf-41fddd25b9bc. Run id: 34f3a308-7134-497b-901a-c93ca3b6c639.
Processing 'Scored_dataset'.
Processing dataset FileDataset
{
  "source": [
    "('workspaceblobstore', 'azureml/81468c95-475b-40f8-8d5d-d5a6fc520b73/Scored_dataset')"
  ],
  "definition": [
    "GetDatastoreFiles"
  ],
  "registration": {
    "id": "4eb8c85b-a5c3-483b-a2b3-b288fb5cf343",
    "name": null,
    "version": null,
    "workspace": "Workspace.create(name='unive-workspace', subscription_id='79dab02c-2ae9-417c-ab9d-ca9bdf3a29c5', resource_group='unive-resource-group')"
  }
}
Mounting Scored_dataset to /tmp/tmpdd1vjx0d.
Mounted Scored_dataset to /tmp/tmpdd1vjx0d as folder.
Processing 'Evaluation_results'.
Exit __enter__ of DatasetContextManager
Entering Run History Context Manager.
Current directory:  /mnt/batch/tasks/shared/LS_root/jobs/unive-workspace/azureml/34f3a308-7134-497b-901a-c93ca3b6c639/mounts/workspaceblobstore/azureml/34f3a308-7134-497b-901a-c93ca3b6c639
Preparing to call script [ urldecode_invoker.py ] with arguments: ['python', '-m', 'azureml.studio.modulehost.module_invoker', '--module-name=azureml.studio.modules.ml.evaluate.evaluate_generic_module.evaluate_generic_module', '--evaluation-results', '$Evaluation_results', '--scored-dataset=$Scored_dataset']
After variable expansion, calling script [ urldecode_invoker.py ] with arguments: ['python', '-m', 'azureml.studio.modulehost.module_invoker', '--module-name=azureml.studio.modules.ml.evaluate.evaluate_generic_module.evaluate_generic_module', '--evaluation-results', '/tmp/tmpbj1okmb2', '--scored-dataset=/tmp/tmpdd1vjx0d']

Session_id = 8fca3df1-aae9-4595-90cf-41fddd25b9bc
Invoking module by urldecode_invoker 0.0.8.

Module type: official module.

Using runpy to invoke module 'azureml.studio.modulehost.module_invoker'.

2020-11-26 00:12:53,713 studio.modulehost    INFO       Reset logging level to DEBUG
2020-11-26 00:12:53,713 studio.modulehost    INFO       Load pyarrow.parquet explicitly: <module 'pyarrow.parquet' from '/azureml-envs/azureml_c490279561d8cd81579e20f33da3a6b0/lib/python3.6/site-packages/pyarrow/parquet.py'>
2020-11-26 00:12:53,713 studio.core          INFO       execute_with_cli - Start:
2020-11-26 00:12:53,713 studio.modulehost    INFO       |   ALGHOST 0.0.141
2020-11-26 00:12:54,639 studio.modulehost    INFO       |   CLI arguments parsed: {'module_name': 'azureml.studio.modules.ml.evaluate.evaluate_generic_module.evaluate_generic_module', 'OutputPortsInternal': {'Evaluation results': '/tmp/tmpbj1okmb2'}, 'InputPortsInternal': {'Scored dataset': '/tmp/tmpdd1vjx0d'}}
2020-11-26 00:12:54,645 studio.modulehost    INFO       |   Invoking ModuleEntry(azureml.studio.modules.ml.evaluate.evaluate_generic_module.evaluate_generic_module; EvaluateModelModule; run)
2020-11-26 00:12:54,646 studio.core          DEBUG      |   Input Ports:
2020-11-26 00:12:54,646 studio.core          DEBUG      |   |   Scored dataset = <azureml.studio.modulehost.cli_parser.CliInputValue object at 0x7ff760455d68>
2020-11-26 00:12:54,646 studio.core          DEBUG      |   Output Ports:
2020-11-26 00:12:54,646 studio.core          DEBUG      |   |   Evaluation results = /tmp/tmpbj1okmb2
2020-11-26 00:12:54,646 studio.core          DEBUG      |   Parameters:
2020-11-26 00:12:54,646 studio.core          DEBUG      |   |   (empty)
2020-11-26 00:12:54,647 studio.core          DEBUG      |   Environment Variables:
2020-11-26 00:12:54,648 studio.core          DEBUG      |   |   AZUREML_DATAREFERENCE_Scored_dataset = /tmp/tmpdd1vjx0d
2020-11-26 00:12:54,648 studio.core          INFO       |   Reflect input ports and parameters - Start:
2020-11-26 00:12:54,648 studio.core          INFO       |   |   Handle input port "Scored dataset" - Start:
2020-11-26 00:12:54,648 studio.core          INFO       |   |   |   Mount/Download dataset to '/tmp/tmpdd1vjx0d' - Start:
2020-11-26 00:12:54,649 studio.modulehost    DEBUG      |   |   |   |   Content of directory /tmp/tmpdd1vjx0d:
2020-11-26 00:12:55,987 studio.modulehost    DEBUG      |   |   |   |   |   _meta.yaml
2020-11-26 00:12:55,988 studio.modulehost    DEBUG      |   |   |   |   |   _samples.json
2020-11-26 00:12:55,988 studio.modulehost    DEBUG      |   |   |   |   |   data.dataset
2020-11-26 00:12:55,988 studio.modulehost    DEBUG      |   |   |   |   |   data.dataset.parquet
2020-11-26 00:12:55,988 studio.modulehost    DEBUG      |   |   |   |   |   data.metadata
2020-11-26 00:12:55,988 studio.modulehost    DEBUG      |   |   |   |   |   data.schema
2020-11-26 00:12:55,988 studio.modulehost    DEBUG      |   |   |   |   |   data.visualization
2020-11-26 00:12:55,988 studio.modulehost    DEBUG      |   |   |   |   |   data_type.json
2020-11-26 00:12:56,054 studio.modulehost    DEBUG      |   |   |   |   |   schema/_schema.json
2020-11-26 00:12:56,054 studio.core          INFO       |   |   |   Mount/Download dataset to '/tmp/tmpdd1vjx0d' - End with 1.4054s elapsed.
2020-11-26 00:12:56,056 studio.core          INFO       |   |   |   Try to read from /tmp/tmpdd1vjx0d via meta - Start:
2020-11-26 00:12:56,501 studio.common        INFO       |   |   |   |   Load DataTableMeta successfully, path=data.dataset
2020-11-26 00:12:56,506 studio.common        INFO       |   |   |   |   Load meta data from directory successfully, data=DataFrameDirectory(meta={'type': 'DataFrameDirectory', 'visualization': [{'type': 'Visualization', 'path': 'data.visualization'}], 'extension': {'DataTableMeta': 'data.dataset'}, 'format': 'Parquet', 'data': 'data.dataset.parquet', 'samples': '_samples.json', 'schema': 'schema/_schema.json'}), type=<class 'azureml.studio.common.datatable.data_table_directory.DataTableDirectory'>
2020-11-26 00:12:56,506 studio.core          INFO       |   |   |   Try to read from /tmp/tmpdd1vjx0d via meta - End with 0.4497s elapsed.
2020-11-26 00:12:56,506 studio.core          INFO       |   |   Handle input port "Scored dataset" - End with 1.8577s elapsed.
2020-11-26 00:12:56,506 studio.core          INFO       |   |   Handle input port "Scored dataset to compare" - Start:
2020-11-26 00:12:56,506 studio.modulehost    WARNING    |   |   |   File 'None' does not exist.
2020-11-26 00:12:56,506 studio.core          INFO       |   |   Handle input port "Scored dataset to compare" - End with 0.0001s elapsed.
2020-11-26 00:12:56,506 studio.core          INFO       |   Reflect input ports and parameters - End with 1.8583s elapsed.
2020-11-26 00:12:56,507 studio.core          INFO       |   EvaluateModelModule.run - Start:
2020-11-26 00:12:56,507 studio.core          DEBUG      |   |   kwargs:
2020-11-26 00:12:56,507 studio.core          DEBUG      |   |   |   scored_data = <azureml.studio.common.datatable.data_table.DataTable object at 0x7ff770fe5e48>
2020-11-26 00:12:56,507 studio.core          DEBUG      |   |   |   scored_data_to_compare = None
2020-11-26 00:12:56,507 studio.core          DEBUG      |   |   validated_args:
2020-11-26 00:12:56,507 studio.core          DEBUG      |   |   |   scored_data = <azureml.studio.common.datatable.data_table.DataTable object at 0x7ff770fe5e48>
2020-11-26 00:12:56,507 studio.core          DEBUG      |   |   |   scored_data_to_compare = None
2020-11-26 00:12:56,507 studio.module        INFO       |   |   Validate input data (Scored Data).
2020-11-26 00:12:56,509 studio.module        INFO       |   |   Get a TaskType.BinaryClassification Model Scored Data from InputPort1.
2020-11-26 00:12:56,509 studio.module        INFO       |   |   Scored data from InputPort1 has 9769 Row(s) and 14 Columns.
2020-11-26 00:12:56,509 studio.module        INFO       |   |   Validated input data.
2020-11-26 00:12:56,509 studio.module        DEBUG      |   |   Use Binary Classification Metric.
2020-11-26 00:12:56,509 studio.core          INFO       |   |   Evaluate Scored Data - Start:
2020-11-26 00:12:56,510 studio.module        INFO       |   |   |   Evaluate data set with income as Label Column.
2020-11-26 00:12:56,510 studio.module        INFO       |   |   |   Remove missing label instances.
2020-11-26 00:12:56,523 studio.module        INFO       |   |   |   Infer label mapping from scored label column: positive label is 1 and negative label is 0.
2020-11-26 00:12:56,544 studio.module        INFO       |   |   |   Infer label mapping from scored label and label column: positive label is 1 and negative label is 0.
2020-11-26 00:12:56,545 studio.module        INFO       |   |   |   Perform transforming category label into numeric label.
2020-11-26 00:12:56,545 studio.core          INFO       |   |   |   Encoding label column - Start:
2020-11-26 00:12:56,545 studio.module        INFO       |   |   |   |   Remove missing scored column values instances, required scored column fScored Labels, Scored Probabilities
2020-11-26 00:12:56,577 studio.core          INFO       |   |   |   Encoding label column - End with 0.0318s elapsed.
2020-11-26 00:12:56,577 studio.core          INFO       |   |   |   Calculating confusion matrix, AUC, Accuracy, Precision, Recall, F1 - Start:
2020-11-26 00:12:56,594 studio.core          INFO       |   |   |   Calculating confusion matrix, AUC, Accuracy, Precision, Recall, F1 - End with 0.0168s elapsed.
/azureml-envs/azureml_c490279561d8cd81579e20f33da3a6b0/lib/python3.6/site-packages/azureml/studio/modules/ml/common/report_data.py:132: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  lambda x: self._calculate_bin_index_by_prob(x))
2020-11-26 00:12:56,853 studio.core          INFO       |   |   Evaluate Scored Data - End with 0.3435s elapsed.
2020-11-26 00:12:56,853 studio.core          INFO       |   |   Evaluate Scored Data to Compare - Start:
2020-11-26 00:12:56,853 studio.module        INFO       |   |   |   Got an Empty Scored Data Instance
2020-11-26 00:12:56,853 studio.core          INFO       |   |   Evaluate Scored Data to Compare - End with 0.0002s elapsed.
2020-11-26 00:12:56,859 studio.module        INFO       |   |   Log table metric "ROC curve".
2020-11-26 00:12:57,106 studio.module        INFO       |   |   Log table metric "Precision-recall curve".
2020-11-26 00:12:57,341 studio.module        INFO       |   |   Log table metric "Lift curve".
2020-11-26 00:13:39,739 studio.module        INFO       |   |   Log scalar metric "Accuracy".
2020-11-26 00:13:39,739 studio.module        INFO       |   |   Log scalar metric "Precision".
2020-11-26 00:13:39,739 studio.module        INFO       |   |   Log scalar metric "Recall".
2020-11-26 00:13:39,740 studio.module        INFO       |   |   Log scalar metric "F1 Score".
2020-11-26 00:13:39,740 studio.module        INFO       |   |   Log scalar metric "AUC".
2020-11-26 00:13:45,148 studio.module        INFO       |   |   Log metrics table "Confusion matrix".
2020-11-26 00:13:45,148 studio.module        INFO       |   |   Log table metric "Confusion matrix".
2020-11-26 00:13:45,743 studio.module        INFO       |   |   Log table metric "Scored bins".
2020-11-26 00:13:46,087 studio.core          DEBUG      |   |   return:
2020-11-26 00:13:46,087 studio.core          DEBUG      |   |   |   [0] = <azureml.studio.modulehost.handler.sidecar_files.SideCarFileBundle object at 0x7ff75fc16438>
2020-11-26 00:13:46,088 studio.core          INFO       |   EvaluateModelModule.run - End with 49.5809s elapsed.
2020-11-26 00:13:46,088 studio.core          INFO       |   ModuleReflector._handle_output_ports - Start:
2020-11-26 00:13:46,088 studio.core          INFO       |   |   Handle output port "Evaluation results" - Start:
2020-11-26 00:13:46,088 studio.modulehost    INFO       |   |   |   Data type: Dataset
2020-11-26 00:13:46,088 studio.modulehost    INFO       |   |   |   Create directory: '/tmp/tmpbj1okmb2'
2020-11-26 00:13:46,088 studio.core          INFO       |   |   |   Create file 'data.dataset.parquet' via DataTableDatasetHandler - Start:
2020-11-26 00:13:46,089 studio.modulehost    INFO       |   |   |   |   Write DataTable into Dataset
2020-11-26 00:13:46,089 studio.core          INFO       |   |   |   |   Write pickle file 'data.dataset' - Start:
2020-11-26 00:13:46,089 studio.core          INFO       |   |   |   |   Write pickle file 'data.dataset' - End with 0.0003s elapsed.
2020-11-26 00:13:46,089 studio.core          INFO       |   |   |   |   Write to parquet file 'data.dataset.parquet'. Rows: 1, Columns: 9. - Start:
/azureml-envs/azureml_c490279561d8cd81579e20f33da3a6b0/lib/python3.6/site-packages/azureml/studio/core/io/data_frame_utils.py:78: FutureWarning: the 'fname'' keyword is deprecated, use 'path' instead
  allow_truncated_timestamps=True,
2020-11-26 00:13:46,094 studio.core          INFO       |   |   |   |   Write to parquet file 'data.dataset.parquet'. Rows: 1, Columns: 9. - End with 0.0046s elapsed.
2020-11-26 00:13:46,094 studio.core          INFO       |   |   |   Create file 'data.dataset.parquet' via DataTableDatasetHandler - End with 0.0055s elapsed.
2020-11-26 00:13:46,094 studio.core          INFO       |   |   |   Create sidecar file 'data.schema' - Start:
2020-11-26 00:13:46,095 studio.core          INFO       |   |   |   Create sidecar file 'data.schema' - End with 0.0004s elapsed.
2020-11-26 00:13:46,095 studio.core          INFO       |   |   |   Create sidecar file 'data.visualization' - Start:
2020-11-26 00:13:46,172 studio.core          INFO       |   |   |   Create sidecar file 'data.visualization' - End with 0.0775s elapsed.
2020-11-26 00:13:46,173 studio.core          INFO       |   |   |   Create sidecar file 'data.metadata' - Start:
2020-11-26 00:13:46,173 studio.core          INFO       |   |   |   Create sidecar file 'data.metadata' - End with 0.0003s elapsed.
2020-11-26 00:13:46,175 studio.common        INFO       |   |   |   Writing meta successfully, datatype=DataTypes.DATASET
2020-11-26 00:13:46,176 studio.core          INFO       |   |   |   Create data type file 'data_type.json' - Start:
2020-11-26 00:13:46,176 studio.core          INFO       |   |   |   Create data type file 'data_type.json' - End with 0.0004s elapsed.
2020-11-26 00:13:46,176 studio.core          INFO       |   |   Handle output port "Evaluation results" - End with 0.0881s elapsed.
2020-11-26 00:13:46,176 studio.core          INFO       |   ModuleReflector._handle_output_ports - End with 0.0884s elapsed.
2020-11-26 00:13:46,176 studio.core          INFO       |   ModuleStatistics.save_to_azureml - Start:
2020-11-26 00:13:46,481 studio.core          INFO       |   ModuleStatistics.save_to_azureml - End with 0.3042s elapsed.
2020-11-26 00:13:46,481 studio.core          INFO       execute_with_cli - End with 52.7675s elapsed.
Starting the daemon thread to refresh tokens in background for process with pid = 101


[2020-11-26T00:13:46.493993] The experiment completed successfully. Finalizing run...
Cleaning up all outstanding Run operations, waiting 900.0 seconds
2 items cleaning up...
Cleanup took 0.15441203117370605 seconds
Enter __exit__ of DatasetContextManager
Unmounting /tmp/tmpdd1vjx0d.
Finishing unmounting /tmp/tmpdd1vjx0d.
Uploading output 'Evaluation_results'.
Exit __exit__ of DatasetContextManager
[2020-11-26T00:13:49.907867] Finished context manager injector.
2020/11/26 00:13:57 Attempt 1 of http call to http://10.0.0.5:16384/sendlogstoartifacts/status
2020/11/26 00:13:57 Process Exiting with Code:  0
